# 機能仕様書

## 1. サービス概要

**サービス名**: sharibatezu（シャリバテズ）
**目的**: 日本百名山を登る際に必要な消費エネルギー（kcal）を事前に計算できる

> 「シャリバテ」とは登山中に食料不足で急激に体力が落ちる状態のこと。
> このアプリで事前に必要カロリーを把握し、シャリバテを防ぐ。

---

## 2. ユーザーストーリー

- ユーザーは百名山の中から登る山を選択できる
- ユーザーは自分の体重を入力できる
- ユーザーは計算ボタンを押すと消費カロリーが表示される
- ユーザーは結果をもとに必要な食料の目安を把握できる

---

## 3. 機能一覧

### 3.1 山の選択機能

- 日本百名山（100座）から山を選択する
- 山名・都道府県・標高を表示する
- ドロップダウンで選択可能にする

### 3.2 エネルギー計算機能（メイン機能）

ユーザーの入力をもとに消費カロリーを算出する。

**入力項目**

| 項目 | 型 | バリデーション |
|------|----|------|
| 体重 | number (kg) | 1〜200kg |
| 選択した山 | string | 百名山から選択 |

**計算式**

登り・下りを分けた式で算出する：

```
登り消費カロリー = 体重 (kg) × 累積標高差 (m) × 0.01  (kcal)
下り消費カロリー = 体重 (kg) × 累積標高差 (m) × 0.005 (kcal)
水平移動カロリー = 体重 (kg) × 距離 (km) × 1.05       (kcal)
合計            = 登り + 下り + 水平移動               (kcal)
```

**出力項目**

| 項目 | 内容 |
|------|------|
| 消費カロリー合計 | kcal |
| 推奨補給カロリー | 消費量の 60〜70% を補給目標として表示 |

### 3.3 百名山データ

各山は以下の型で管理する（静的JSONファイル）：

```typescript
type Mountain = {
  id: number;
  name: string;          // 山名（日本語）
  nameKana: string;      // 山名（かな）
  prefecture: string;    // 都道府県
  elevation: number;     // 最高標高 (m)
  elevationGain: number; // 累積標高差 (m)
  distance: number;      // 歩行距離 (km)
};
```

---

## 4. 画面構成

```
/ （トップ・計算ページ）
  ├── 山の選択フォーム（ドロップダウン）
  ├── 体重入力フォーム
  ├── 計算ボタン
  └── 結果表示エリア
      ├── 消費カロリー合計
      └── 推奨補給カロリー
```

---

## 5. 非機能要件

| 項目 | 内容 |
|------|------|
| レスポンス速度 | 計算結果は1秒以内に返す |
| インフラコスト | Cloudflare 無料枠内で運用する |
| 対応デバイス | スマートフォン・PC 両対応（レスポンシブ） |
| 認証 | 不要（ログイン機能なし） |
| データ永続化 | 不要（百名山データは静的ファイル） |

---

## 6. 将来的な拡張候補（現スコープ外）

- コースバリエーションの選択（複数ルート対応）
- 天候・季節による補正係数
- 必要な食料リストの提案
- SNS シェア機能
